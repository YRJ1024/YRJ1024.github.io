/**
 * Minified by jsDelivr using UglifyJS v3.4.4.
 * Original file: /gh/xlupc/cnblogs-theme@e3ede70eeb53608e3e27af75789ec7e6ff6c9c13/js/base.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function Base(){var f=this,p=new myTools,c=new ToProgress(window.cnblogsConfig.progressBar,"#bottomProgressBar"),d=0,b={setMenuDataTId:null,setHomeRightMenuTId:null,setNotHomeRightMenuTId:null,setCnzzTId:null,setAmazingTId:null,setCatalogTId:null};this.init=function(){f.loadingBeforeInit(),f.endLoading(),f.loadingAfterInit()},this.loadingBeforeInit=function(){$("#homeTopTitle").text(window.cnblogsConfig.blogUser),$("#menuBlogAvatar").append("<img src='"+window.cnblogsConfig.blogAvatar+"'>"),window.cnblogsConfig.bgAnimationRendered&&require(["RibbonsEffect"]),0<$("#topics").length?f.notHomeInit():f.homeInit()},this.loadingAfterInit=function(){$("#menuWrap").optiscroll({forceScrollbars:!0,maxTrackSize:20,preventParentScroll:!0}),$(window).scroll(function(){f.scrollMonitor()}),$(window).resize(function(){f.resizeMonitor()});var t,e,o=document.createElement("link");o.rel="shortcut icon",o.href=window.cnblogsConfig.webpageIcon,document.getElementsByTagName("head")[0].appendChild(o),f.addFooter(),b.setMenuDataTId=window.setInterval(f.setMenuData,1e3),f.htmlTitle(),f.setPageAnimationControl(),p.consoleText(window.cnblogsConfig.consoleList,"random"),t=/xlupc/,e=0,console.log("%c "+t,"color: orange;line-height: 24px;"),t.toString=function(){return"欢迎访问本博客，这是您第 "+ ++e+" 次打开控制台。"},setTimeout(f.clearIntervalAll,3e4)},this.clearIntervalAll=function(){$.each(b,function(t){null!=t&&window.clearInterval(t)})},this.clearIntervalTimeId=function(t){null!=t&&window.clearInterval(t)},this.htmlTitle=function(){var t,e,o,n=document.title;void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),void 0===document.addEventListener&&void 0===document[t]||document.addEventListener(e,function(){o&&clearTimeout(o),document[t]?o=setTimeout(function(){document.title=window.cnblogsConfig.webpageTitleOnblur+" - "+n.split(" - ")[0]},window.cnblogsConfig.webpageTitleOnblurTimeOut):(document.title=window.cnblogsConfig.webpageTitleFocus,o=setTimeout(function(){document.title=n},window.cnblogsConfig.webpageTitleFocusTimeOut))},!1)},this.homeInit=function(){$(".main-header").css({background:"#222 url("+window.cnblogsConfig.homeTopImg+")  center center no-repeat","background-size":"cover"}),$(".scroll-down").click(function(){var t=$("#home").offset().top+10;p.actScroll(t,1e3)}),b.setHomeRightMenuTId=window.setInterval(f.addHomeRightMenu,1e3),f.setHitokoto(),f.scrollMonitor(),f.setDomHomePosition(),window.cnblogsConfig.homeTopAnimationRendered&&require(["circleMagic"],function(){$(".main-header").circleMagic(window.cnblogsConfig.homeTopAnimation)})},this.notHomeInit=function(){var t=$("#cb_post_title_url").text();$(".main-header-content").append('<h1 class="sb-title">'+t+"</h1>"),$(".inner").css("max-width","100vw"),f.setDomHomePosition(),f.setCodeHighlighting(),require(["baguetteBox","marvin","articleStatement"],function(t){var e=$("#cnblogs_post_body"),o=$("#cnblogs_post_body img");0<e.length&&0<o.length&&($.each(o,function(t){var e=$(o[t]);void 0===e.attr("id")&&50<e.outerWidth()&&e.wrap("<a class='lightbox' href='"+e.attr("src")+"'></a>")}),t.run(".lightbox")),b.setCatalogTId=window.setInterval(f.initCatalog,1e3),f.scrollMonitor()}),b.setNotHomeRightMenuTId=window.setInterval(f.addNotHomeRightMenu,1e3),f.setNotHomeTopImg(),f.setCommentStyle()},this.initCatalog=function(){var t=$("#sideToolbar");if(0<t.length){var e=$(".main-header").outerHeight();t.css("top",e+20+"px"),f.resizeMonitor(),t.fadeIn(300),f.clearIntervalTimeId(b.setCatalogTId)}},this.setHitokoto=function(){if(""!=window.cnblogsConfig.homeBannerText)return $("#hitokoto").text(window.cnblogsConfig.homeBannerText).css("display","-webkit-box"),f.setDomHomePosition(),!0;var o=["每一个不曾起舞的日子，都是对生命的辜负。","公主死去了，屠龙的少年还在燃烧","我们听过无数的道理，却仍旧过不好这一生。","生如夏花之绚烂，死如秋叶之静美。","但凡不能杀死你的，最终都会使你更强大。","好看的皮囊千篇一律，有趣的灵魂万里挑一。","青春是一本太仓促的书，我们含着泪，一读再读。","教育就是当一个人把在学校所学全部忘光之后剩下的东西。","孤独不是一种脾性，而是一种无奈。","有时候你以为天要塌下来了，其实是自己站歪了。","温柔正确的人总是难以生存，因为这世界既不温柔，也不正确。","死并非生的对立面，而作为生的一部分永存。","不要努力成为一个成功者，要努力成为一个有价值的人。","不要因为走得太远，忘了我们为什么出发。","你的问题主要在于读书不多而想得太多。","岁月不饶人，我亦未曾饶过岁月。","当你凝视深渊时，深渊也在凝视着你。","有的人25岁就死了，只是到75岁才埋葬"];$.ajax({async:!0,crossDomain:!0,url:"https://v2.jinrishici.com/one.json",method:"GET"}).done(function(t){if(t&&"success"==t.status)$("#hitokoto").text(t.data.content).css("display","-webkit-box"),$("#hitokotoAuthor").text("《"+t.data.origin.title+"》 - "+t.data.origin.dynasty+" - "+t.data.origin.author).show();else{var e=p.randomNum(0,o.length-1);$("#hitokoto").text(o[e]).css("display","-webkit-box")}return f.setDomHomePosition(),!1})},this.setNotHomeTopImg=function(){$(".main-header").css({height:"40vh",background:"#222 url("+window.cnblogsConfig.essayTopImg+")  center center no-repeat","background-size":"cover"}),$("#homeTopTitle").hide(),$(".scroll-down").hide(),$("#home").css("margin-top","40vh"),$("#cb_post_title_url").addClass("post-del-title"),window.cnblogsConfig.essayTopAnimationRendered&&require(["TweenMax","MyTween"],function(){initCanvas("notHomeTopCanvas"),start()})},this.setDomHomePosition=function(){$("#home").css("margin-top",$(".main-header").outerHeight()+"px")},this.setPageAnimationControl=function(){if(window.cnblogsConfig.homeTopAnimationRendered||window.cnblogsConfig.essayTopAnimationRendered||window.cnblogsConfig.bgAnimationRendered){'<span id="pageAnimationOffOnIcon" class="iconfont icon-lightningbshandian" style="display: inline-block;"></span>','<span id="pageAnimationOffOnText">关闭页面特效</span>',"</div>",$("body").prepend('<div id="pageAnimationOffOn" data="off" style="z-index:  999;position:  absolute;top: 15px;right: 20px;font-size: 14px;color: #f9f9f9;cursor: pointer;"><span id="pageAnimationOffOnIcon" class="iconfont icon-lightningbshandian" style="display: inline-block;"></span><span id="pageAnimationOffOnText">关闭页面特效</span></div>'),$("#pageAnimationOffOn").click(function(){"off"==$(this).attr("data")?($("body").find("canvas").hide(),$("#pageAnimationOffOnIcon").rotate({animateTo:-360}),$("#pageAnimationOffOnText").text("打开页面特效"),$(this).attr("data","on")):($("body").find("canvas").show(),$("#pageAnimationOffOnIcon").rotate({animateTo:360}),$("#pageAnimationOffOnText").text("关闭页面特效"),$(this).attr("data","off"))})}},this.setCodeHighlighting=function(){var o=$("pre"),n=$(".cnblogs_code_copy a"),t=$(".cnblogs_code span"),i=$(".post pre"),e=window.cnblogsConfig.essayCodeHighlightingType.toLowerCase(),a=window.cnblogsConfig.essayCodeHighlighting.toLowerCase();switch(e){case"highlightjs":p.dynamicLoadingCss("https://highlightjs.org/static/demo/styles/"+a+".css"),l(),require(["highlightjs"],function(){$("pre").each(function(t,e){n.html('<i class="iconfont icon-code hljs-comment" style="font-style: inherit;"></i>'),-1!=$.inArray(a,["github-gist","googlecode","grayscale","idea","isbl-editor-light","qtcreator_light","tomorrow","vs","xcode","arduino-light","ascetic","color-brewer","lightfair"])&&o.css("background-color","#f6f8fa"),hljs.highlightBlock(e)})});break;case"prettify":!function(){switch(o.addClass("prettyprint"),a){case"prettify":l(),require(["codePrettify"],function(){$("pre").css("background-color","#f6f8fa").css("border","0"),r()});break;case"desert":l(),require(["codeDesert"],function(){r()});break;case"sunburst":l(),require(["codeSunburst"],function(){r()});break;case"obsidian":l(),require(["codeObsidian"],function(){r()});break;case"doxy":l(),require(["codeDoxy"],function(){r()});break;default:s()}}();break;case"cnblogs":default:s()}function s(){n.html('<i class="iconfont icon-code" style="color: #999;"></i>'),t.css("background-color","#f6f8fa"),i.css({"background-color":"#f6f8fa","overflow-x":"auto"})}function l(){$.each(i,function(t){var e=$(i[t]);e.find("br").after("&#10;");var o=e.text();e.html("").text(o).css("overflow-x","auto")})}function r(){n.html('<i class="iconfont icon-code com" style="font-style: inherit;"></i>')}!function(){p.dynamicLoadingCss(getJsDelivrUrl("jquery.mCustomScrollbar.css"));var t=window.setInterval(function(){if(0<$(".post pre span").length){switch($(".post pre").mCustomScrollbar({theme:"minimal-dark",axis:"yx"}),e){case"highlightjs":$(".mCSB_dragger_bar").css("background-color",$(".hljs-comment").css("color"));break;case"prettify":$(".mCSB_dragger_bar").css("background-color",$(".com").css("color"))}f.clearIntervalTimeId(t)}},500)}()},this.setCommentStyle=function(){var a,t=$(".blog_comment_body");(a=t).each(function(t){var e=$(a[t]).attr("id").split("_");if(0<e.length){var o=e[e.length-1],n=$("#comment_"+o+"_avatar");if(0<n.length&&""!=n.text())var i='<img class="comment-avatar" src="'+n.text()+'"/>';else i='<img class="comment-avatar" src="https://files.cnblogs.com/files/bndong/no_avatar.gif"/>';$(a[t]).before(i)}}),t.addClass("hvr-bob");var e=setInterval(function(){0<$("#comments_pager_bottom").length&&($.each($(".blog_comment_body"),function(t,e){$(e).html('<div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tr><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>'+$(e).html()+'</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </table></td> </tr> </table> </div>')}),$(".louzhu").closest(".feedbackItem").find(".out").removeClass("out").addClass("inc"),clearTimeout(e))},50)},this.endLoading=function(){$("body").css("overflow","auto"),pageLoading.spinner.setComplete(),$("#loading").fadeOut(300)},this.scrollMonitor=function(){var t=$("#home").offset().top-40,e=$(document).scrollTop(),o=$("#open-button"),n=$("#sideToolbar"),i=$(".main-header").outerHeight(),a=p.getScrollPercent(),s=$("#toUpDown"),l=$("#toUpDownI"),r=$(".toUpDownSpan");c.setProgress(a),i<=e?n.hasClass("sideToolbarFix")||n.addClass("sideToolbarFix"):n.removeClass("sideToolbarFix"),t<=e?(l.rotate({animateTo:0}),s.attr("data","up"),r.text("返回顶部")):(l.rotate({animateTo:-180}),s.attr("data","down"),r.text("跳至底部")),d<e?t<=e&&(o.hasClass("menu-button-scroll")||(o.addClass("menu-button-scroll"),o.text(""))):e<=t&&o.hasClass("menu-button-scroll")&&(o.removeClass("menu-button-scroll"),o.text("MENU")),d=e},this.resizeMonitor=function(){var t=parseFloat(document.body.clientWidth);if(f.setDomHomePosition(),0<$("#sideToolbar").length){var e=$("#mainContent").outerWidth(!0),o=$("#sideCatalog").outerWidth(!0),n=(t-e)/2,i=n-(o=220<o?o:242)-50;$("#sideCatalog").css("right",(0<i?i:0)+"px"),o+50<n&&1230<t?$("#sideToolbar").css("visibility","visible"):$("#sideToolbar").css("visibility","hidden")}},this.rightMenuMous=function(i,a){$(i).on({mouseover:function(){if(".rightBuryitSpan"==a){var t=$("#bury_count").text();$(a).text()!=t&&($(i).attr("clickflg","false"),$(a).text(t))}if(".rightDiggitSpan"==a){t=$("#digg_count").text();$(a).text()!=t&&($(i).attr("clickflg","false"),$(a).text(t))}$(a).show()},mouseout:function(){$(a).hide()},click:function(){if((".rightBuryitSpan"==a||".rightDiggitSpan"==a)&&"false"==$(this).attr("clickflg")){var t=$(a),e=parseInt(t.text())+1;t.text(e),$(this).attr("clickflg","true")}if(".attentionSpan"==a&&(""==$("#p_b_follow").text()||0<$(i+" a").text().indexOf("成功")?$(a).text("已关注"):$(a).text("关注")),".toUpDownSpan"==a)if("down"==$(this).attr("data")){var o=$(document).height(),n=$(window).height();p.actScroll(o-n,2e3)}else p.actScroll(0,2e3)}})},this.addFooter=function(){$("#footer").append('<span id="amazingStatSpan"></span><div style="text-align: center;">I love waking up in the morning and not knowing what\'s going to happen， or who I\'m going to meet， where I\'m going to wind up</div><div><span id=\'blogRunTimeSpan\'></span></div><div id="cnzzInfo" style="text-align: center;"></div>'),window.setInterval(function(){var t=window.cnblogsConfig.blogStartDate;t=t||"2018-12-10";var e=p.getRunDate(t);$("#blogRunTimeSpan").text("This blog has running : "+e.daysold+" d "+e.hrsold+" h "+e.minsold+" m "+e.seconds+" s")},500),b.setCnzzTId=window.setInterval(function(){var t=$("#cnzz_stat_icon_1275888752 a");if(0<t.length){var o=[],n=$(t[1]).text().split("|");$.each(n,function(t){var e=$.trim(n[t]);""!=e&&(e=e.replace("今日","Today").replace("昨日","Yesterday").replace("[",": ").replace("]",""),o.push(e))}),o.push($(t[2]).text().replace("当前在线","Online").replace("[",": ").replace("]","")),$("#cnzzInfo").text(o.join(" | ")),f.clearIntervalTimeId(b.setCnzzTId)}},1e3)},this.setMenuData=function(){var t=$("#profile_block").html(),e=$("#sidebar_recentposts ul li"),o=$("#sidebar_toptags ul li"),n=$("#sidebar_postcategory ul li"),i=$("#sidebar_postarchive ul li"),a=$("#TopViewPostsBlock ul li"),s=$("#TopDiggPostsBlock ul li"),l=$("#introduce"),r=$("#sb-sidebarRecentposts"),c=$("#sb-toptags"),d=$("#sb-classify"),g=$("#sb-record"),h=$("#sb-topview"),u=$("#sb-topDiggPosts");function m(a,s){var l="<div><ul>",r=/^[1-9]+[0-9]*$/;return a.each(function(t){var e=$($(a[t]).html()),o=e.text().split(".");r.test(o[0])&&o.splice(0,1);var n=$.trim(o.join(".")),i='<span class="iconfont '+s+'" style="color: #888;font-size: 14px;margin-right: 5px;"></span>';e.html(i+n),l+="<li>"+e.prop("outerHTML")+"</li>"}),l+="</ul></div>"}"string"==typeof t&&""==l.html()&&l.html(p.htmlFiltrationScript(t)),0<e.length&&""==r.html()&&r.html(m(e,"icon-time_fill")).prev(".m-list-title").show(),0<o.length&&""==c.html()&&c.html(m(o,"icon-label_fill")).prev(".m-list-title").show(),0<n.length&&""==d.html()&&d.html(m(n,"icon-marketing_fill")).prev(".m-list-title").show(),0<i.length&&""==g.html()&&g.html(m(i,"icon-task_fill")).prev(".m-list-title").show(),0<a.length&&""==h.html()&&h.html(m(a,"icon-browse_fill")).prev(".m-list-title").show(),0<s.length&&""==u.html()&&u.html(m(s,"icon-like_fill")).prev(".m-list-title").show(),0<e.length&&0<o.length&&0<n.length&&0<i.length&&0<a.length&&0<s.length&&f.clearIntervalTimeId(b.setMenuDataTId)},this.addHomeRightMenu=function(){var t=$("#rightMenu");if(0<t.length){t.prepend('<div id="toUpDown" data="up"><span class="rightMenuSpan toUpDownSpan">返回顶部</span><div id="toUpDownI"><i class="rightMenuIcon iconfont icon-zhiding"></i></div></div>'),f.rightMenuMous("#toUpDown",".toUpDownSpan");var e="";if(""!=$("#p_b_follow").text()&&(e=$("#p_b_follow a").attr("onclick")),0<e.indexOf("unfollow")||""==e)var o='<div id="attention" clickflg="true"><span class="rightMenuSpan attentionSpan">已关注</span><i class="rightMenuIcon iconfont icon-guanzhu"></i></div>';else o='<div id="attention" onclick="'+e.replace("unfollow","follow")+'" clickflg="false"><span class="rightMenuSpan attentionSpan">关注</span><i class="rightMenuIcon iconfont icon-guanzhu"></i></div>';t.prepend(o),f.rightMenuMous("#attention",".attentionSpan"),f.scrollMonitor(),f.clearIntervalTimeId(b.setHomeRightMenuTId)}},this.addNotHomeRightMenu=function(){0<$("#rightMenu").length&&0<$("#div_digg").length&&(0==$("#toUpDown").length&&0==$("#attention").length&&f.addHomeRightMenu(),f.clearIntervalTimeId(b.setNotHomeRightMenuTId))}}
//# sourceMappingURL=/sm/bf404b9dab55335b93c8653faf11ee103d213805db89a2ee037cd4ab2d941d8f.map